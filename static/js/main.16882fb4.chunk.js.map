{"version":3,"sources":["services/imagesApi.js","components/imageGallery/imageItemGalery/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/searchbar/Searchbar.js","components/imageGallery/button/styledButton.js","components/imageGallery/button/Button.js","components/modal/Modal.js","components/loader/styledLoader.js","components/loader/LoaderGallery.js","components/imageGallery/FieldImageGalery.js","components/App.js","index.js"],"names":["URL","API_KEY","fetchImagessWithQuery","searchQuery","page","axios","get","then","response","data","hits","ImageGalleryItem","image","onClick","className","src","webformatURL","alt","tags","data-url","largeImageURL","id","ImageGallery","images","map","Searchbar","state","inputValue","handleChange","e","value","target","setState","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ButtonLoad","styled","button","Button","onLoadMore","Modal","url","WrapperLoader","div","LoaderGallery","color","height","width","timeout","FieldImageGalery","loading","error","openModal","prevState","dataset","handleKeyEsc","code","handleCloseOverlay","nodeName","handleSearchFormSubmit","query","catch","finally","handleLoadMoreImages","handleScroll","window","scrollBy","top","document","documentElement","offsetHeight","behavior","addEventListener","prevProps","scrollTo","removeEventListener","length","tag","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.16882fb4.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst URL = `https://pixabay.com/api/`\nconst API_KEY = \"19534970-c150d60c17d66f9c0c2e6c44f\";\n\nexport const fetchImagessWithQuery = (searchQuery, page = 1) => {\n    return axios.get(`${URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => response.data.hits);\n};\n\n\n","import React from 'react'\nimport PropTypes from \"prop-types\";\n\nexport const ImageGalleryItem = ({ image, onClick }) => {\n    return (\n        <li className=\"ImageGalleryItem\" key={image.id} onClick={onClick}>\n            <img src={image.webformatURL}\n                alt={image.tags}\n                data-url={image.largeImageURL}\n                className=\"ImageGalleryItem-image\" />\n        </li>\n    )\n}\n\nImageGalleryItem.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    image: PropTypes.objectOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        tags: PropTypes.string.isRequired,\n        webformatURL: PropTypes.string.isRequired,\n        largeImageURL: PropTypes.string.isRequired,\n    })),\n}","import React from 'react'\nimport { ImageGalleryItem } from './imageItemGalery/ImageGalleryItem'\nimport PropTypes from \"prop-types\";\n\nexport const ImageGallery = ({ images, onClick }) => {\n    return (\n        <ul className=\"ImageGallery\">\n            {images.map((image) => {\n                return <ImageGalleryItem\n                    key={image.id}\n                    image={image}\n                    onClick={onClick}\n                />\n            })}\n        </ul>\n    )\n}\nImageGallery.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    images: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        image: PropTypes.string.isRequired,\n        number: PropTypes.string.isRequired,\n    })),\n}","import React, { Component } from 'react'\n\nexport class Searchbar extends Component {\n    state = {\n        inputValue: '',\n    }\n    handleChange = e => {\n        const { value } = e.target;\n        this.setState({ inputValue: value });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.inputValue)\n        this.setState({ inputValue: '' });\n    }\n\n    render() {\n        const { inputValue } = this.state;\n        return (\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <span className=\"SearchForm-button-label\">Search</span>\n                    </button>\n\n                    <input\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        value={inputValue}\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>\n        )\n    }\n}\n","import styled from \"styled-components\"\n\nexport const ButtonLoad = styled.button`\ndisplay:block;\nmargin: 20px auto;\n    min-width: 300px;\n    padding: 16px 32px;\n\n    border: 1px solid #3f51b5;\n    border-radius: 5px;\n\n    font-size: 18px;\n    font-weight: 700;\n    text-align: center;\n\n    color: #fff;\n    text-shadow: 1px 1px 2px #2F4F4F, 0 0 1em #808080;\n    background-color: #3f51b5;\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    cursor: pointer;\n  &:hover,\n&:focus {\n    color: #3f51b5;\n    background-color: #fff;\n}\n    \n`","import React from 'react'\nimport { ButtonLoad } from './styledButton'\nimport PropTypes from \"prop-types\";\n\n\nexport const Button = ({ onLoadMore }) => {\n    return (\n        <ButtonLoad type=\"button\" className=\"Load-button\" onClick={onLoadMore}>\n            <span className=\"Load-button-label\">Load more</span>\n        </ButtonLoad>\n    )\n}\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from \"prop-types\";\n\nexport const Modal = ({ url, alt, onClick }) => {\n    return (\n        <div className=\"Overlay\" onClick={onClick}>\n            <div className=\"Modal\">\n                <img src={url} alt={alt} />\n            </div>\n        </div>\n    )\n}\n\nModal.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    url: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n}","import styled from \"styled-components\"\n\nexport const WrapperLoader = styled.div`\nmargin: 20px auto;\ntext-align:center;\n`","import React from 'react';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { WrapperLoader } from './styledLoader'\n\nexport const LoaderGallery = () => {\n    return (\n        <WrapperLoader>\n            <Loader\n                type=\"ThreeDots\"\n                color=\"#3f51b5\"\n                height={100}\n                width={100}\n                timeout={3000} //3 secs\n            />\n        </WrapperLoader>\n    )\n}\n","import React, { Component } from 'react'\n\nimport { fetchImagessWithQuery } from '../../services/imagesApi';\n\nimport { ImageGallery } from './ImageGallery'\nimport { Searchbar } from '../searchbar/Searchbar'\nimport { Button } from './button/Button'\nimport { Modal } from '../modal/Modal'\nimport { LoaderGallery } from '../loader/LoaderGallery'\n\n\nexport default class FieldImageGalery extends Component {\n    state = {\n        images: [],\n        loading: false,\n        error: null,\n        searchQuery: '',\n        page: 1,\n        largeImageURL: null,\n    }\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyEsc);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevPage = prevState.page;\n        const currentPage = this.state.page;\n        if (prevPage !== currentPage) {\n            window.scrollTo({\n                top: document.documentElement.offsetHeight,\n                behavior: 'smooth'\n            })\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyEsc);\n    }\n\n    openModal = (e) => {\n        this.setState((prevState) => ({ ...prevState, largeImageURL: e.target.dataset.url }))\n    }\n\n    handleKeyEsc = e => {\n        if (e.code === 'Escape') {\n            this.setState((prevState) => ({ ...prevState, largeImageURL: null }));\n        }\n    };\n\n    handleCloseOverlay = e => {\n        if (e.target.nodeName !== 'IMG') {\n            this.setState({\n                largeImageURL: null,\n            });\n        }\n    };\n\n    handleSearchFormSubmit = (query) => {\n        if (query === '') {\n            return;\n        }\n        const { page } = this.state;\n        this.setState((prevState) => ({ ...prevState, loading: true }))\n        fetchImagessWithQuery(query, page)\n            .then(images => this.setState(prevState => ({\n                ...prevState, images:\n                    [...prevState.images, ...images],\n                page: prevState.page + 1,\n                searchQuery: query, loading: true\n            }))\n            )\n            .catch(error => this.setState((prevState) => ({ ...prevState, error })))\n            .finally(() => this.setState((prevState) => ({ ...prevState, loading: false })))\n    }\n\n\n    handleLoadMoreImages = () => {\n        const { page, searchQuery } = this.state;\n        this.setState((prevState) => ({ ...prevState, loading: true }))\n        fetchImagessWithQuery(searchQuery, page)\n            .then(images =>\n                this.setState(prevState => ({\n                    ...prevState, images:\n                        [...prevState.images, ...images],\n                    page: prevState.page + 1\n                })))\n            // .then(response => this.handleScroll())\n            .catch(error => this.setState((prevState) => ({ ...prevState, error })))\n            .finally(() => this.setState((prevState) => ({ ...prevState, loading: false })))\n    }\n\n    handleScroll = () => {\n        window.scrollBy({\n            top: document.documentElement.offsetHeight,\n            behavior: 'smooth'\n        })\n    }\n\n    render() {\n        const { images, loading, largeImageURL } = this.state;\n        return (\n            <div>\n                <Searchbar onSubmit={this.handleSearchFormSubmit} />\n                {images.length === 0 && <h1>Please, enter your search</h1>}\n                {loading && <LoaderGallery />}\n                {images.length > 0 && <ImageGallery images={images} onClick={this.openModal} />}\n                {loading && <LoaderGallery />}\n                {images.length > 0 && <Button onLoadMore={this.handleLoadMoreImages} />}\n                {largeImageURL && <Modal url={largeImageURL}\n                    alt={images.tag} onClick={this.handleCloseOverlay} />}\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nimport FieldImageGalery from './imageGallery/FieldImageGalery'\n\nexport default class App extends Component {\n    render() {\n        return (\n            <>\n                <FieldImageGalery />\n            </>\n        )\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}