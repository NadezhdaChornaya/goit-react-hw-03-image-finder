{"version":3,"sources":["services/imagesApi.js","components/imageGallery/imageItemGalery/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/searchbar/Searchbar.js","components/imageGallery/button/styledButton.js","components/imageGallery/button/Button.js","components/modal/Modal.js","components/loader/styledLoader.js","components/loader/LoaderGallery.js","components/imageGallery/FieldImageGalery.js","components/App.js","index.js"],"names":["URL","API_KEY","fetchImagessWithQuery","searchQuery","page","axios","get","then","response","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","className","src","alt","data-url","ImageGallery","images","map","image","tag","id","Searchbar","onSubmit","useState","inputValue","setState","e","preventDefault","console","log","type","autoComplete","autoFocus","placeholder","value","onChange","target","ButtonLoad","styled","button","Button","onLoadMore","Modal","url","WrapperLoader","div","LoaderGallery","color","height","width","timeout","initialState","loading","error","FieldImageGalery","state","useEffect","window","addEventListener","handleKeyEsc","removeEventListener","scrollBy","top","document","documentElement","clientHeight","behavior","code","prevState","query","catch","finally","length","dataset","nodeName","App","Component","ReactDOM","render","getElementById"],"mappings":"mSAEMA,EAAG,2BACHC,EAAU,qCAEHC,EAAwB,SAACC,GAA2B,IAAdC,EAAa,uDAAN,EACtD,OAAOC,IAAMC,IAAN,UAAaN,EAAb,eAAuBG,EAAvB,iBAA2CC,EAA3C,gBAAuDH,EAAvD,yDACFM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,SCJ3BC,EAAmB,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,aAAcC,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAClE,OACI,oBAAIC,UAAU,mBAAmBD,QAASA,EAA1C,SACI,qBAAKE,IAAKL,EACNM,IAAKJ,EACLK,WAAUN,EACVG,UAAU,8BCLbI,EAAe,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQN,EAAc,EAAdA,QACnC,OACI,oBAAIC,UAAU,eAAd,SACKK,EAAOC,KAAI,SAACC,GACT,OAAO,cAAC,EAAD,CAEHV,cAAeU,EAAMV,cACrBW,IAAKD,EAAMC,IACXT,QAASA,EACTH,aAAcW,EAAMX,cAJfW,EAAME,UCPlBC,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACRC,mBAAS,IADD,mBAChCC,EADgC,KACpBC,EADoB,KAcvC,OACI,wBAAQd,UAAU,YAAlB,SACI,uBAAMA,UAAU,aAAaW,SARhB,SAAAI,GACjBA,EAAEC,iBACFC,QAAQC,IAAIL,GACZF,EAASE,IAKL,UACI,wBAAQM,KAAK,SAASnB,UAAU,oBAAhC,SACI,sBAAMA,UAAU,0BAAhB,sBAGJ,uBACIA,UAAU,mBACVmB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOV,EACPW,SAzBK,SAAAT,GAAM,IACfQ,EAAUR,EAAEU,OAAZF,MACRN,QAAQC,IAAIK,GACZT,EAASS,Y,mlBCNV,IAAMG,EAAaC,IAAOC,OAAV,KCGVC,EAAS,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACrB,OACI,cAACJ,EAAD,CAAYP,KAAK,SAASnB,UAAU,cAAcD,QAAS+B,EAA3D,SACI,sBAAM9B,UAAU,oBAAhB,0BCLC+B,EAAQ,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,IAAK9B,EAAmB,EAAnBA,IAAKH,EAAc,EAAdA,QAC9B,OACI,qBAAKC,UAAU,UAAUD,QAASA,EAAlC,SACI,qBAAKC,UAAU,QAAf,SACI,qBAAKC,IAAK+B,EAAK9B,IAAKA,S,sICL7B,IAAM+B,EAAgBN,IAAOO,IAAV,KCGbC,EAAgB,WACzB,OACI,cAACF,EAAD,UACI,cAAC,IAAD,CACId,KAAK,YACLiB,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,SCHnBC,EAAe,CACjBnC,OAAQ,GACRoC,SAAS,EACTC,MAAO,KACPvD,YAAa,GACbC,KAAM,EACNS,cAAe,MAEN8C,EAAmB,WAAO,IAAD,EACR/B,mBAAS,eAAK4B,IADN,mBAC3BI,EAD2B,KACpB9B,EADoB,KAGlC+B,qBAAU,WAEN,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACHF,OAAOG,oBAAoB,UAAWD,OAI9CH,qBAAU,WACFD,EAAMxD,KAAO,GACb0D,OAAOI,SAAS,CACZC,IACIC,SAASC,gBAAgBC,aAC7BC,SAAU,aAGnB,CAACX,EAAMxD,OAEV,IAIM4D,EAAe,SAAAjC,GACF,WAAXA,EAAEyC,MACF1C,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgC5D,cAAe,WA4ChE,OACI,gCACI,cAAC,EAAD,CAAWc,SAnCY,SAAC+C,GAC5B,GAAc,KAAVA,EAAJ,CADsC,IAI9BtE,EAASwD,EAATxD,KACR0B,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgChB,SAAS,OAClDvD,EAAsBwE,EAAOtE,GACxBG,MAAK,SAAAc,GAAM,OAAIS,GAAS,SAAA2C,GAAS,kCAC3BA,GAD2B,IAChBpD,OAAO,GAAD,mBACZoD,EAAUpD,QADE,YACSA,IAC7BjB,KAAMqE,EAAUrE,KAAO,EACvBD,YAAauE,EAAOjB,SAAS,UAGhCkB,OAAM,SAAAjB,GAAK,OAAI5B,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgCf,MAAO,+BAC/DkB,SAAQ,kBAAM9C,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgChB,SAAS,cAqBxC,IAAxBG,EAAMvC,OAAOwD,QAAgB,2DAC7BjB,EAAMH,SAAW,cAAC,EAAD,IACjBG,EAAMvC,OAAOwD,OAAS,GAAK,cAAC,EAAD,CAAcxD,OAAQuC,EAAMvC,OAAQN,QAvDtD,SAACgB,GACfD,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgC5D,cAAekB,EAAEU,OAAOqC,QAAQ9B,YAuDpEY,EAAMH,SAAW,cAAC,EAAD,IACjBG,EAAMvC,OAAOwD,OAAS,GAAK,cAAC,EAAD,CAAQ/B,WAtBf,WAAO,IACxB1C,EAAsBwD,EAAtBxD,KAAMD,EAAgByD,EAAhBzD,YACd2B,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgChB,SAAS,OAClDvD,EAAsBC,EAAaC,GAC9BG,MAAK,SAAAc,GAAM,OACRS,GAAS,SAAA2C,GAAS,kCACXA,GADW,IACApD,OAAO,GAAD,mBACZoD,EAAUpD,QADE,YACSA,IAC7BjB,KAAMqE,EAAUrE,KAAO,UAG9BuE,OAAM,SAAAjB,GAAK,OAAI5B,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgCf,MAAO,+BAC/DkB,SAAQ,kBAAM9C,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgChB,SAAS,aAWhEG,EAAM/C,eAAiB,cAAC,EAAD,CAAOmC,IAAKY,EAAM/C,cACtCK,IAAK0C,EAAMvC,OAAOG,IAAKT,QAjDR,SAAAgB,GACG,QAAtBA,EAAEU,OAAOsC,UACTjD,GAAS,SAAC2C,GAAD,mBAAC,eAAoBA,GAArB,IAAgC5D,cAAe,iBC9C/CmE,E,uKAEb,OACI,mCACI,cAAC,EAAD,U,GAJiBC,aCEjCC,IAASC,OACP,cAAC,EAAD,IACAf,SAASgB,eAAe,W","file":"static/js/main.adab47ae.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst URL = `https://pixabay.com/api/`\nconst API_KEY = \"19534970-c150d60c17d66f9c0c2e6c44f\";\n\nexport const fetchImagessWithQuery = (searchQuery, page = 1) => {\n    return axios.get(`${URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => response.data.hits);\n};\n\n\n","import React from 'react'\nimport PropTypes from \"prop-types\";\n\nexport const ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => {\n    return (\n        <li className=\"ImageGalleryItem\" onClick={onClick}>\n            <img src={webformatURL}\n                alt={tags}\n                data-url={largeImageURL}\n                className=\"ImageGalleryItem-image\" />\n        </li>\n    )\n}\n\nImageGalleryItem.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    tags: PropTypes.string,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n\n}","import React from 'react'\nimport { ImageGalleryItem } from './imageItemGalery/ImageGalleryItem'\nimport PropTypes from \"prop-types\";\n\nexport const ImageGallery = ({ images, onClick }) => {\n    return (\n        <ul className=\"ImageGallery\">\n            {images.map((image) => {\n                return <ImageGalleryItem\n                    key={image.id}\n                    largeImageURL={image.largeImageURL}\n                    tag={image.tag}\n                    onClick={onClick}\n                    webformatURL={image.webformatURL}\n                />\n            })}\n        </ul>\n    )\n}\nImageGallery.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    images: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n}","import React, { useState } from 'react'\n\nexport const Searchbar = ({ onSubmit }) => {\n    const [inputValue, setState] = useState('')\n\n    const handleChange = e => {\n        const { value } = e.target;\n        console.log(value)\n        setState(value);\n    };\n    const handleSubmit = e => {\n        e.preventDefault();\n        console.log(inputValue)\n        onSubmit(inputValue)\n    }\n\n    return (\n        <header className=\"Searchbar\">\n            <form className=\"SearchForm\" onSubmit={handleSubmit}>\n                <button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"SearchForm-button-label\">Search</span>\n                </button>\n\n                <input\n                    className=\"SearchForm-input\"\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                    value={inputValue}\n                    onChange={handleChange}\n                />\n            </form>\n        </header>\n    )\n}\n\n// ========================= class content ======================================\n// export class Searchbar extends Component {\n//     state = {\n//         inputValue: '',\n//     }\n//     handleChange = e => {\n//         const { value } = e.target;\n//         this.setState({ inputValue: value });\n//     };\n\n//     handleSubmit = e => {\n//         e.preventDefault();\n//         this.props.onSubmit(this.state.inputValue)\n//         this.setState({ inputValue: '' });\n//     }\n\n//     render() {\n//         const { inputValue } = this.state;\n//         return (\n//             <header className=\"Searchbar\">\n//                 <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n//                     <button type=\"submit\" className=\"SearchForm-button\">\n//                         <span className=\"SearchForm-button-label\">Search</span>\n//                     </button>\n\n//                     <input\n//                         className=\"SearchForm-input\"\n//                         type=\"text\"\n//                         autoComplete=\"off\"\n//                         autoFocus\n//                         placeholder=\"Search images and photos\"\n//                         value={inputValue}\n//                         onChange={this.handleChange}\n//                     />\n//                 </form>\n//             </header>\n//         )\n//     }\n// }\n","import styled from \"styled-components\"\n\nexport const ButtonLoad = styled.button`\ndisplay:block;\nmargin: 20px auto;\n    min-width: 300px;\n    padding: 16px 32px;\n\n    border: 1px solid #3f51b5;\n    border-radius: 5px;\n\n    font-size: 18px;\n    font-weight: 700;\n    text-align: center;\n\n    color: #fff;\n    text-shadow: 1px 1px 2px #2F4F4F, 0 0 1em #808080;\n    background-color: #3f51b5;\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    cursor: pointer;\n  &:hover,\n&:focus {\n    color: #3f51b5;\n    background-color: #fff;\n}\n    \n`","import React from 'react'\nimport { ButtonLoad } from './styledButton'\nimport PropTypes from \"prop-types\";\n\n\nexport const Button = ({ onLoadMore }) => {\n    return (\n        <ButtonLoad type=\"button\" className=\"Load-button\" onClick={onLoadMore}>\n            <span className=\"Load-button-label\">Load more</span>\n        </ButtonLoad>\n    )\n}\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from \"prop-types\";\n\nexport const Modal = ({ url, alt, onClick }) => {\n    return (\n        <div className=\"Overlay\" onClick={onClick}>\n            <div className=\"Modal\">\n                <img src={url} alt={alt} />\n            </div>\n        </div>\n    )\n}\n\nModal.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    url: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n}","import styled from \"styled-components\"\n\nexport const WrapperLoader = styled.div`\nmargin: 20px auto;\ntext-align:center;\n`","import React from 'react';\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { WrapperLoader } from './styledLoader'\n\nexport const LoaderGallery = () => {\n    return (\n        <WrapperLoader>\n            <Loader\n                type=\"ThreeDots\"\n                color=\"#3f51b5\"\n                height={100}\n                width={100}\n                timeout={3000} //3 secs\n            />\n        </WrapperLoader>\n    )\n}\n","import React, { useState, useEffect } from 'react'\n\nimport { fetchImagessWithQuery } from '../../services/imagesApi';\n\nimport { ImageGallery } from './ImageGallery'\nimport { Searchbar } from '../searchbar/Searchbar'\nimport { Button } from './button/Button'\nimport { Modal } from '../modal/Modal'\nimport { LoaderGallery } from '../loader/LoaderGallery'\n\nconst initialState = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    largeImageURL: null,\n}\nexport const FieldImageGalery = () => {\n    const [state, setState] = useState({ ...initialState })\n\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyEsc)\n        return () => {\n            window.removeEventListener('keydown', handleKeyEsc);\n        }\n    });\n\n    useEffect(() => {\n        if (state.page > 2) {\n            window.scrollBy({\n                top:\n                    document.documentElement.clientHeight,\n                behavior: 'smooth',\n            });\n        }\n    }, [state.page]);\n\n    const openModal = (e) => {\n        setState((prevState) => ({ ...prevState, largeImageURL: e.target.dataset.url }))\n    }\n\n    const handleKeyEsc = e => {\n        if (e.code === 'Escape') {\n            setState((prevState) => ({ ...prevState, largeImageURL: null }));\n        }\n    };\n\n    const handleCloseOverlay = e => {\n        if (e.target.nodeName !== 'IMG') {\n            setState((prevState) => ({ ...prevState, largeImageURL: null, })\n            );\n        }\n    };\n\n    const handleSearchFormSubmit = (query) => {\n        if (query === '') {\n            return;\n        }\n        const { page } = state;\n        setState((prevState) => ({ ...prevState, loading: true }))\n        fetchImagessWithQuery(query, page)\n            .then(images => setState(prevState => ({\n                ...prevState, images:\n                    [...prevState.images, ...images],\n                page: prevState.page + 1,\n                searchQuery: query, loading: true\n            }))\n            )\n            .catch(error => setState((prevState) => ({ ...prevState, error: \"something went wrong\" })))\n            .finally(() => setState((prevState) => ({ ...prevState, loading: false })))\n    }\n\n    const handleLoadMoreImages = () => {\n        const { page, searchQuery } = state;\n        setState((prevState) => ({ ...prevState, loading: true }))\n        fetchImagessWithQuery(searchQuery, page)\n            .then(images =>\n                setState(prevState => ({\n                    ...prevState, images:\n                        [...prevState.images, ...images],\n                    page: prevState.page + 1\n                })))\n            // .then(response => this.handleScroll())\n            .catch(error => setState((prevState) => ({ ...prevState, error: \"something went wrong\" })))\n            .finally(() => setState((prevState) => ({ ...prevState, loading: false })))\n    }\n\n    return (\n        <div>\n            <Searchbar onSubmit={handleSearchFormSubmit} />\n            {state.images.length === 0 && <h1>Please, enter your search</h1>}\n            {state.loading && <LoaderGallery />}\n            {state.images.length > 0 && <ImageGallery images={state.images} onClick={openModal} />}\n            {state.loading && <LoaderGallery />}\n            {state.images.length > 0 && <Button onLoadMore={handleLoadMoreImages} />}\n            {state.largeImageURL && <Modal url={state.largeImageURL}\n                alt={state.images.tag} onClick={handleCloseOverlay} />}\n        </div>\n    )\n}\n\n\n\n\n\n\n\n\n// ========================= class content ======================================\n// export default class FieldImageGalery extends Component {\n//     state = {\n//         images: [],\n//         loading: false,\n//         error: null,\n//         searchQuery: '',\n//         page: 1,\n//         largeImageURL: null,\n//     }\n\n//     componentDidMount() {\n//         window.addEventListener('keydown', this.handleKeyEsc);\n//     }\n\n\n\n//     componentDidUpdate(prevProps, prevState) {\n//         const prevPage = prevState.page;\n//         const currentPage = this.state.page;\n//         if (prevPage !== currentPage) {\n//             window.scrollTo({\n//                 top: document.documentElement.offsetHeight,\n//                 behavior: 'smooth'\n//             })\n//         }\n//     }\n\n//     componentWillUnmount() {\n//         window.removeEventListener('keydown', this.handleKeyEsc);\n//     }\n\n//     openModal = (e) => {\n//         this.setState((prevState) => ({ ...prevState, largeImageURL: e.target.dataset.url }))\n//     }\n\n//     handleKeyEsc = e => {\n//         if (e.code === 'Escape') {\n//             this.setState((prevState) => ({ ...prevState, largeImageURL: null }));\n//         }\n//     };\n\n//     handleCloseOverlay = e => {\n//         if (e.target.nodeName !== 'IMG') {\n//             this.setState({\n//                 largeImageURL: null,\n//             });\n//         }\n//     };\n\n//     handleSearchFormSubmit = (query) => {\n//         if (query === '') {\n//             return;\n//         }\n//         const { page } = this.state;\n//         this.setState((prevState) => ({ ...prevState, loading: true }))\n//         fetchImagessWithQuery(query, page)\n//             .then(images => this.setState(prevState => ({\n//                 ...prevState, images:\n//                     [...prevState.images, ...images],\n//                 page: prevState.page + 1,\n//                 searchQuery: query, loading: true\n//             }))\n//             )\n//             .catch(error => this.setState((prevState) => ({ ...prevState, error })))\n//             .finally(() => this.setState((prevState) => ({ ...prevState, loading: false })))\n//     }\n\n\n//     handleLoadMoreImages = () => {\n//         const { page, searchQuery } = this.state;\n//         this.setState((prevState) => ({ ...prevState, loading: true }))\n//         fetchImagessWithQuery(searchQuery, page)\n//             .then(images =>\n//                 this.setState(prevState => ({\n//                     ...prevState, images:\n//                         [...prevState.images, ...images],\n//                     page: prevState.page + 1\n//                 })))\n//             // .then(response => this.handleScroll())\n//             .catch(error => this.setState((prevState) => ({ ...prevState, error })))\n//             .finally(() => this.setState((prevState) => ({ ...prevState, loading: false })))\n//     }\n\n//     handleScroll = () => {\n//         window.scrollBy({\n//             top: document.documentElement.offsetHeight,\n//             behavior: 'smooth'\n//         })\n//     }\n\n//     render() {\n//         const { images, loading, largeImageURL } = this.state;\n//         return (\n//             <div>\n//                 <Searchbar onSubmit={this.handleSearchFormSubmit} />\n//                 {images.length === 0 && <h1>Please, enter your search</h1>}\n//                 {loading && <LoaderGallery />}\n//                 {images.length > 0 && <ImageGallery images={images} onClick={this.openModal} />}\n//                 {loading && <LoaderGallery />}\n//                 {images.length > 0 && <Button onLoadMore={this.handleLoadMoreImages} />}\n//                 {largeImageURL && <Modal url={largeImageURL}\n//                     alt={images.tag} onClick={this.handleCloseOverlay} />}\n//             </div>\n//         )\n//     }\n// }\n","import React, { Component } from 'react'\n\nimport { FieldImageGalery } from './imageGallery/FieldImageGalery'\n\nexport default class App extends Component {\n    render() {\n        return (\n            <>\n                <FieldImageGalery />\n            </>\n        )\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}